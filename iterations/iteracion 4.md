# Iteración 4

| Aspecto| Descripción |
|------|-------------|
| Drivers Seleccionados | - Asignar rutas a los camiones de reparto y optimizarlas en función de la demora.<br> - Permitir el uso de dos algoritmos de optimización para calcular las rutas más eficientes. - Rendimiento en la optimización de rutas. <br> - Interoperabilidad con sistemas logísticos externos. <br> - Escalabilidad para manejar grandes volúmenes de datos y operaciones.<br>   - Uso de protocolos HTTP/REST. |
| Objetivo de la Iteración | Desacoplar el módulo de rutas y repartos, convirtiéndolo en un microservicio independiente que pueda calcular rutas de manera eficiente y gestionar la asignación de transportes. |
| Elemento a refinar |  Módulo de Reparto y Rutas.|
| Elección de Conceptos de Diseño |  <ul><li> **Microservice** para desacoplar Rutas y Repartos. </li><li> **API REST**: para facilitar la comunicación con protocolos HTTP/REST. </li><li>  **API gateway**: punto de entrada centralizado para redirigir solicitudes, manejar politicas de seguridad, auntenticacion y balanceo de carga.   </li><li>  **Database per Service**: para almacenar datos de rutas, vehículos y repartos.</li><li> **Circuit Breaker**: Asegura la disponibilidad del sistema frente a fallas en las APIs externas. </li><li>**Increase Efficiency**: para almacenar resultados recientes de optimización, especialmente para rutas repetidas. </li><li>**Event-Driven**: para emitir de eventos como "Ruta Optimizada" o "Reparto Asignado" y notificar a otros módulos (Pedidos, Incidencias). </li><li> **Strategy**: para implementar cada algoritmo de optimización como una estrategia intercambiable, y permitir la seleccion del algoritmo en tiempo de ejecución basándose en las demoras de los camiones.</li></ul>|
| Instanciar Elementos Arquitectónicos | - Microservicio Reparto y Rutas:Responsabilidades: Asignación de rutas, optimización en tiempo real y comunicación con sistemas externos.- Interfaces: API gateway como unico punto de entrada, API REST para la integración y entrada de datos logísticos.- Bus de eventos: para notificar y recibir eventos relevantes.<br> Base de datos para el microservicio de Repartos y Rutas. |
| Diagramas y  Decisiones | Decisiones documentadas en **ADR 1**, **ADR 2**, **ADR 3**, **ADR4**, **ADR5**, **ADR6**, **ADR7** y los diagramas correspondientes a la iteracion 4 son: **it4_view_component**, **it4_diagrama_de_secuencia**. |